(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70cc19ba"],{"0c1f":function(t,e,n){"use strict";var a=n("b837"),i=n.n(a);i.a},"0d03":function(t,e,n){var a=n("6eeb"),i=Date.prototype,c="Invalid Date",o="toString",r=i[o],s=i.getTime;new Date(NaN)+""!=c&&a(i,o,(function(){var t=s.call(this);return t===t?r.call(this):c}))},2300:function(t,e,n){"use strict";var a=n("3fe8"),i=n.n(a);i.a},2475:function(t,e,n){"use strict";var a=n("a7fe"),i=n.n(a);i.a},"304c":function(t,e,n){"use strict";n.r(e);var a,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"category"},[n("header",{staticClass:"g-header-container"},[n("category-header")],1),n("div",{staticClass:"g-content-container"},[n("div",{staticClass:"sidebar"},[n("category-tab",{on:{"switch-tab":t.getCurrentId}})],1),n("div",{staticClass:"main"},[n("category-content",{attrs:{curId:t.curId}})],1)])])},c=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("me-navbar",{staticClass:"header",scopedSlots:t._u([{key:"center",fn:function(){return[n("me-search-box",{attrs:{placeholder:"开学季有礼，好货5折起",fake:""},on:{query:t.getQuery},nativeOn:{click:function(e){return t.goToSearch(e)}}})]},proxy:!0},{key:"right",fn:function(){return[n("i",{staticClass:"iconfont icon-msg"})]},proxy:!0}])})},r=[],s=n("9b10"),u=n("54ed"),l={name:"CategoryHeader",components:{MeNavbar:s["a"],MeSearchBox:u["a"]},methods:{getQuery:function(t){return t},goToSearch:function(){this.$router.push("/search")}}},d=l,f=(n("d258"),n("2877")),m=Object(f["a"])(d,o,r,!1,null,"a69cc314",null),p=m.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("me-scroll",{attrs:{scrollbar:!1}},[n("ul",{staticClass:"tab"},t._l(t.items,(function(e,a){return n("li",{key:a,staticClass:"tab-item",class:{"tab-item-active":e.id===t.curId},on:{click:function(n){return t.switchTab(e.id)}}},[t._v(t._s(e.name))])})),0)])},v=[],b=n("204f"),g="ecmall-category",y="key",C="".concat(g,"-content-").concat(y),k=864e5,Q=[{name:"热门推荐",id:"WQR2006"},{name:"慕淘超市",id:"WQ1968"},{name:"国际名牌",id:"WQ1969"},{name:"奢侈品",id:"WQ1970"},{name:"全球购",id:"WQ1971"},{name:"男装",id:"WQ1972"},{name:"女装",id:"WQ1973"},{name:"男鞋",id:"WQ1974"},{name:"女鞋",id:"WQ1975"},{name:"内衣配饰",id:"WQ1976"},{name:"箱包手袋",id:"WQ1977"},{name:"美妆个护",id:"WQ1978"},{name:"钟表珠宝",id:"WQ1979"},{name:"手机数码",id:"WQ1980"},{name:"电脑办公",id:"WQ1981"},{name:"家用电器",id:"WQ1982"},{name:"食品生鲜",id:"WQ1983"},{name:"酒水饮料",id:"WQ1984"},{name:"母婴童鞋",id:"WQ1985"},{name:"玩具乐器",id:"WQ1986"},{name:"医药保健",id:"WQ1987"},{name:"计生情趣",id:"WQ1988"},{name:"运动户外",id:"WQ1989"},{name:"汽车用品",id:"WQ1990"},{name:"家居厨具",id:"WQ1991"},{name:"家具家装",id:"WQ1992"},{name:"礼品鲜花",id:"WQ1993"},{name:"宠物生活",id:"WQ1994"},{name:"生活旅行",id:"WQ1995"},{name:"图书音像",id:"WQ1996"},{name:"邮币",id:"WQ1997"},{name:"农资绿植",id:"WQ1998"},{name:"特产馆",id:"WQ1999"},{name:"慕淘金融",id:"WQ2000"},{name:"拍卖",id:"WQ2001"},{name:"房产",id:"WQ2008"},{name:"二手商品",id:"WQ2002"}],W={name:"CategoryTab",components:{MeScroll:b["a"]},data:function(){return{curId:""}},created:function(){this.init(),this.switchTab(this.items[0].id)},methods:{init:function(){this.items=Q},switchTab:function(t){this.curId!==t&&(this.curId=t,this.$emit("switch-tab",t))}}},w=W,T=(n("d1fc"),Object(f["a"])(w,h,v,!1,null,"2ae6b0b0",null)),_=T.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-wrapper"},[t.isLoading?n("div",{staticClass:"loading-container"},[n("div",{staticClass:"loading-wrapper"},[n("me-loading")],1)]):t._e(),n("me-scroll",{ref:"scroll",on:{"scroll-end":t.scrollEnd}},[n("div",{staticClass:"content"},[t.content.banner?n("div",{staticClass:"pic"},[n("a",{staticClass:"pic-link",attrs:{href:t.content.banner.linkUrl}},[n("img",{staticClass:"pic-img",attrs:{src:t.content.banner.picUrl,alt:"banner picture"},on:{load:t.updateScroll}})])]):t._e(),t._l(t.content.data,(function(e,a){return n("div",{key:a,staticClass:"section"},[n("h4",{staticClass:"section-title"},[t._v(t._s(e.name))]),n("ul",{staticClass:"section-list"},t._l(e.itemList,(function(e,a){return n("li",{key:a,staticClass:"section-item"},[n("a",{staticClass:"section-link",attrs:{href:e.linUrl}},[e.picUrl?n("p",{staticClass:"section-pic"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}],staticClass:"section-img",attrs:{alt:""}})]):t._e(),n("p",{staticClass:"section-name"},[t._v(t._s(e.name))])])])})),0)])}))],2)]),n("div",{staticClass:"g-backtop-container"},[n("me-backtop",{attrs:{visible:t.isBacktopVisible},on:{backtop:t.backToTop}})],1)],1)},x=[],I=(n("0d03"),n("d3b7"),n("bdfe")),$=n("88a1"),B=n("bc3a"),q=n.n(B),L=n("da71"),E=q.a.CancelToken,N=function(t){return a&&a("取消了前一次的请求！"),a=null,q.a.get("https://www.imooc.com/api/category/content/".concat(t),{timeout:L["c"],cancelToken:new E((function(t){a=t}))}).then((function(t){if(t.data.code===L["b"])return t.data.content;throw new Error("没有成功获取到数据！")})).catch((function(t){return q.a.isCancel(t),t}))},O=n("68fe"),M={name:"CategoryContent",components:{MeLoading:I["a"],MeScroll:b["a"],MeBacktop:$["a"]},props:{curId:{type:String,default:""}},data:function(){return{content:{},isBacktopVisible:!1,isLoading:!1}},watch:{curId:function(t){var e=this;this.isLoading=!0,this.getContent(t).then((function(){e.isLoading=!1,e.backToTop(0)}))}},methods:{getContent:function(t){var e,n=this,a=O["a"].get(C),i=(new Date).getTime();return a&&a[t]?(e=a[t].updateTime||0,i-e<=k?this.getContentByLocalStorage(a[t]):this.getContentByHTTP(t).then((function(){n.updateLocalStorage(a,t,i)}))):this.getContentByHTTP(t).then((function(){n.updateLocalStorage(a,t,i)}))},getContentByLocalStorage:function(t){return this.content=t.data,Promise.resolve()},getContentByHTTP:function(t){var e=this;return N(t).then((function(t){return new Promise((function(n){t&&(e.content=t,n())}))}))},updateLocalStorage:function(t,e,n){t=t||{},t[e]={},t[e].data=this.content,t[e].updateTime=n,O["a"].set(C,t)},backToTop:function(t){this.$refs.scroll&&this.$refs.scroll.scrollToTop(t)},updateScroll:function(){this.$refs.scroll&&this.$refs.scroll.update()},scrollEnd:function(t,e){this.isBacktopVisible=t<0&&-t>e.height}}},j=M,P=(n("0c1f"),Object(f["a"])(j,S,x,!1,null,"e7d7620e",null)),U=P.exports,H={name:"Category",components:{CategoryHeader:p,CategoryTab:_,CategoryContent:U},data:function(){return{curId:""}},methods:{getCurrentId:function(t){this.curId=t}}},D=H,J=(n("2300"),Object(f["a"])(D,i,c,!1,null,"7e5a2a4c",null));e["default"]=J.exports},"36b4":function(t,e,n){},"3fe8":function(t,e,n){},"52ac":function(t,e,n){},"54ed":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mine-search-box-wrapper"},[n("i",{staticClass:"iconfont icon-search"}),t.fake?n("div",{staticClass:"mine-search-box"},[t._v(t._s(t.placeholder))]):t._e(),t.fake?t._e():n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"mine-search-box",attrs:{type:"text",title:"搜索框",placeholder:t.placeholder},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:t.query,expression:"query"}],staticClass:"iconfont icon-close",on:{click:t.reset}})])},i=[],c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=null;return function(){for(var a=this,i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){t.apply(a,c)}),e)}},o={name:"MeSearchBox",props:{placeholder:{type:String,default:"请输入搜索内容"},fake:{type:Boolean,default:!1}},data:function(){return{query:""}},watch:{query:c((function(){this.$emit("query",this.query)}))},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},clear:function(){this.query=""},reset:function(){this.clear(),this.focus()}}},r=o,s=(n("2475"),n("2877")),u=Object(s["a"])(r,a,i,!1,null,"78902986",null);e["a"]=u.exports},"68fe":function(t,e,n){"use strict";var a=window.localStorage;function i(t){return JSON.stringify(t)}function c(t){if("string"===typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}}e["a"]={set:function(t,e){void 0!==e&&a.setItem(t,i(e))},get:function(t,e){var n=c(a.getItem(t));return void 0===n?e:n},remove:function(t){a.removeItem(t)},clear:function(){a.clear()}}},"6b7a":function(t,e,n){"use strict";var a=n("a8b7"),i=n.n(a);i.a},"88a1":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"mine-backtop"}},[n("a",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mine-backtop",attrs:{href:"javascript:;"},on:{click:t.backToTop}},[n("i",{staticClass:"iconfont icon-backtop"})])])},i=[],c={name:"MeBacktop",props:{visible:{type:Boolean,default:!1}},methods:{backToTop:function(){this.$emit("backtop")}}},o=c,r=(n("6b7a"),n("2877")),s=Object(r["a"])(o,a,i,!1,null,"4fef5d1d",null);e["a"]=s.exports},a7fe:function(t,e,n){},a8b7:function(t,e,n){},b837:function(t,e,n){},d1fc:function(t,e,n){"use strict";var a=n("36b4"),i=n.n(a);i.a},d258:function(t,e,n){"use strict";var a=n("52ac"),i=n.n(a);i.a},da71:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return o}));var a=0,i=1e4,c=20,o={param:"callback",timeout:i}}}]);
//# sourceMappingURL=chunk-70cc19ba.8e0551bc.js.map